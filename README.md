ä¿¡æ¯æ£€ç´¢åŸç†è¯¾ç¨‹å¤§ä½œä¸š

githubé“¾æ¥ï¼šhttps://github.com/Codesheep11/Daily-Recipe

---

# ğŸœ Daily-Recipe: åŸºäº RAG ä¸é•¿çŸ­æœŸè®°å¿†çš„ç¾é£Ÿæ¨è Agent


Daily-Recipe æ˜¯ä¸€ä¸ªå…·å¤‡**é•¿æœŸè®°å¿†ï¼ˆLong-term Memoryï¼‰** ä¸**æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰** èƒ½åŠ›çš„æ™ºèƒ½ç¾é£Ÿæ¨èç³»ç»Ÿã€‚

ä¸åŒäºä¼ ç»Ÿçš„åŸºäºè§„åˆ™æˆ–ååŒè¿‡æ»¤çš„æ¨èç³»ç»Ÿï¼ŒDaily-Recipe åˆ©ç”¨ **`mem0`** æ¡†æ¶æ„å»ºç”¨æˆ·ç”»åƒå‘é‡ç´¢å¼•ï¼Œé€šè¿‡æ£€ç´¢ç”¨æˆ·çš„å†å²é¥®é£Ÿè®°å½•ä½œä¸º**è´Ÿé¢çº¦æŸï¼ˆNegative Constraintsï¼‰**ï¼Œå®ç°äº†â€œæ¯æ—¥æ¨èä¸é‡æ ·â€çš„ä¸ªæ€§åŒ–å†³ç­–é€»è¾‘ã€‚

---

## IR åŸç†æ˜ å°„

æœ¬é¡¹ç›®å°†ä¿¡æ¯æ£€ç´¢ï¼ˆIRï¼‰çš„æ ¸å¿ƒæµç¨‹åº”ç”¨äº Agent å†³ç­–ä¸­ï¼š

1. **Indexing (ç´¢å¼•æ„å»º)**:
* ä½¿ç”¨ `mem0` + `Qdrant` (Vector DB) å°†ç”¨æˆ·çš„å†å²é€‰æ‹©è½¬åŒ–ä¸ºå‘é‡å¹¶å­˜å‚¨ã€‚
* åˆ©ç”¨ `restaurants.json` æ„å»ºåŸºäºå±æ€§ï¼ˆFlavor, Categoryï¼‰çš„ç»“æ„åŒ–æ–‡æ¡£åº“ã€‚


2. **Retrieval (æ£€ç´¢å¬å›)**:
* **Memory Retrieval**: ä½¿ç”¨è¯­ä¹‰æ£€ç´¢ï¼ˆSemantic Searchï¼‰æŸ¥æ‰¾ç”¨æˆ·æœ€è¿‘åƒè¿‡çš„é£Ÿç‰©ã€‚
* **Corpus Retrieval**: åŸºäºå†³ç­–é€»è¾‘ï¼ˆå¦‚â€œä»Šå¤©æƒ³åƒæ¸…æ·¡çš„â€ï¼‰ï¼Œå¯¹é¤å…çŸ¥è¯†åº“è¿›è¡Œå¸ƒå°”æ£€ç´¢ï¼ˆBoolean Retrievalï¼‰ã€‚


3. **Ranking & Filtering (æ’åºä¸è¿‡æ»¤)**:
* å®ç° **Diversity Ranking (å¤šæ ·æ€§æ’åº)**ï¼šé™ä½ä¸è¿‘æœŸè®°å¿†ç›¸ä¼¼åº¦é«˜çš„å€™é€‰é¡¹æƒé‡ï¼Œé¿å…é‡å¤æ¨èã€‚


4. **Relevance Feedback (ç›¸å…³æ€§åé¦ˆ)**:
* ç”¨æˆ·ç‚¹å‡»â€œé‡‡çº³å»ºè®®â€åï¼Œç³»ç»Ÿå°†è¯¥æ¬¡äº¤äº’å†™å…¥è®°å¿†åº“ï¼Œæ›´æ–°ç´¢å¼•ï¼Œä»è€Œå½±å“ä¸‹ä¸€æ¬¡çš„æ£€ç´¢ç»“æœï¼ˆFeedback Loopï¼‰ã€‚



---

## é¡¹ç›®ç»“æ„

éµå¾ªæ¨¡å—åŒ–è½¯ä»¶å·¥ç¨‹æ¶æ„è®¾è®¡ï¼š

```text
Daily-Recipe_Project/
â”œâ”€â”€ app.py                 # [Presentation Layer] Streamlit å‰ç«¯äº¤äº’å…¥å£
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ settings.py        # [Config] å…¨å±€é…ç½®ä¸ç¯å¢ƒå˜é‡
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ memory_store.py    # [Index Layer] å°è£… mem0 å‘é‡å­˜å‚¨æ“ä½œ
â”‚   â””â”€â”€ dining_agent.py    # [Logic Layer] RAG æµç¨‹æ§åˆ¶ä¸å†³ç­–æ ¸å¿ƒ
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ mock_search.py     # [Retrieval Layer] æ¨¡æ‹Ÿå¤–éƒ¨æ–‡æ¡£åº“æ£€ç´¢å·¥å…·
â”œâ”€â”€ data/
â”‚   â””â”€â”€ restaurants.json   # [Corpus] ç»“æ„åŒ–é¤å…æ•°æ®æº
â””â”€â”€ requirements.txt       # é¡¹ç›®ä¾èµ–
```

---

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿ä½ å·²å®‰è£… Python 3.9+ã€‚

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/Daily-Recipe.git
cd Daily-Recipe

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ (æ¨è)
python -m venv venv
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. é…ç½® API Key

æœ¬é¡¹ç›®åˆ©ç”¨ LLM è¿›è¡Œè¯­ä¹‰ç†è§£ï¼Œéœ€è¦ OpenAI API Keyï¼ˆæˆ–å…¶ä»–å…¼å®¹æ¥å£ï¼‰ã€‚

* ä½ å¯ä»¥åœ¨è¿è¡Œç•Œé¢ä¸­è¾“å…¥ Keyã€‚
* æˆ–è€…åœ¨ `configs/settings.py` ä¸­é¢„è®¾ç¯å¢ƒå˜é‡ã€‚

### 3. è¿è¡Œç³»ç»Ÿ

```bash
streamlit run app.py
```

å¯åŠ¨åï¼Œæµè§ˆå™¨å°†è‡ªåŠ¨æ‰“å¼€ `http://localhost:8501`ã€‚

---

## ğŸ“ å¼€å‘è€…è¯´æ˜

* **å…³äºæ•°æ®æº**: `data/restaurants.json` æ¨¡æ‹Ÿäº†çœŸå®çš„é¤å…æ•°æ®åº“ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿™åº”æ›¿æ¢ä¸º Elasticsearch æˆ– SQL æ•°æ®åº“æŸ¥è¯¢ã€‚
* **å…³äºå‘é‡å­˜å‚¨**: æœ¬é¡¹ç›®é…ç½®ä¸ºå°† Qdrant æ•°æ®å­˜å‚¨åœ¨æœ¬åœ° `./local_vector_db` æ–‡ä»¶å¤¹ä¸­ï¼Œæ— éœ€ Docker å³å¯è¿è¡Œã€‚è‹¥éœ€é‡ç½®ï¼Œç‚¹å‡» Sidebar çš„ "Reset Memory" å³å¯ã€‚
